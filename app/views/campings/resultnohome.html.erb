<% cache do %> 
 <div class="containershow">
   
    <!--MAPS -->
<div class="container-fluid">
  <div class="row">
    <div class="col-md-61">
      <div class="right-map">

      <div id="map"></div>
    </div>
  </div>

<!--Affiche les filtre + recherche-->
<div class="col-md-62">
  <%= render 'searchfilter', camping: @camping %>
  <!--Affiche les campings pour la recherche, si pas de camping, il retourne la phrase malheureusement...-->
<% if @campings.empty? %>
  Malheureusement aucun camping ne correspond Ã  votre recherche.
  <%else%>


<div class="col-md-12">

<%= render 'sponso', camping: @camping %>
<%= render 'sponso2', camping: @camping %>

<% @campings.each do |camping| %>
<div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <div class="card-header-mask">
                         <a href="/campings/<%=camping[:id]%>">
                         <% if camping.image.present? %>
                      <div class="imagecamp"><%= image_tag camping.image%></div>
                      <%else%>
                      <img src="http://cdn-jpg2.theactivetimes.net/sites/default/files/camping.jpg" width="100%">
                      <%end%>
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    <div class="card-body-header">
                   
                        <div class="card-body-header-category"><%= camping.etoile %> *</div>
                        <h2 class="titleblock"><%= link_to camping.name.mb_chars.titleize, camping_path(camping.id) %></h2>
                        <p class="card-body-header-sentence">
                            </span><%= camping.commune %><span>
                        </p>
                    </div>
                    <p class="card-body-description">
                        <%= camping.nomdep %>
                        <%= camping.nomregion %>
                       <div class="card-body-footer"><p> Emplacements : <%= camping.emplacement%></p></div>
                        
                    </p>
                </div>
            </div>
      </div>
  <% end %>
</div>



<%end%>
    <script src="//maps.google.com/maps/api/js?v=3.23&key=AIzaSyA_iMliGnXhrp8pfPjCLUvuxjlvMcEwf0k"></script>
    <script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
    <script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->


    <script>
      handler = Gmaps.build('Google');
      handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
      markers = handler.addMarkers(<%=raw @hash.to_json %>);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
      });
    </script>

</div>
</div>
</div>
<%end%>